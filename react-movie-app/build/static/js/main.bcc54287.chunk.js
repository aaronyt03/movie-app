(this["webpackJsonpreact-movie-app"]=this["webpackJsonpreact-movie-app"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(18),o=c.n(i),s=c(3),r=c(2),l=c(4),j=c(0);var d=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],a=t[1];function i(){a(!1),console.log(c)}var o=Object(n.useState)(!1),r=Object(l.a)(o,2),d=r[0],b=r[1],u=Object(n.useState)(null),v=Object(l.a)(u,2),h=v[0],O=v[1];function m(){b(!1),console.log(d),O(null)}return Object(j.jsxs)("nav",{className:"site-navigation ".concat(h),id:"site-navigation",children:[Object(j.jsx)("button",{onClick:!0!==c&&!0!==d&&null===h?function(){a(!0),console.log(c)}&&function(){b(!0),O("toggled"),console.log(d)}:i&&m,className:"menu-toggle","aria-controls":"header-menu","aria-expanded":c,children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",children:Object(j.jsx)("path",{d:"M24 6h-24v-4h24v4zm0 4h-24v4h24v-4zm0 8h-24v4h24v-4z"})})}),Object(j.jsxs)("ul",{className:"nav-menu",id:"header-menu",children:[Object(j.jsx)("li",{children:Object(j.jsx)(s.c,{onClick:i&&m,to:"/",exact:!0,children:"Home"})}),Object(j.jsx)("li",{children:Object(j.jsx)(s.c,{onClick:i&&m,to:"/about",children:"About"})}),Object(j.jsx)("li",{children:Object(j.jsx)(s.c,{onClick:i&&m,to:"/favorites",children:"Favorites"})})]})]})},b=c.p+"static/media/movie-logo.7cd1aafc.png";var u=function(){return Object(j.jsxs)("header",{className:"site-header",children:[Object(j.jsx)(s.b,{to:"/",children:Object(j.jsx)("img",{src:b,alt:"back to top button"})}),Object(j.jsx)(d,{})]})},v=function(){return Object(j.jsx)("footer",{children:Object(j.jsx)("p",{children:"\xa9 2021 Aaron Lee, Claire Kang, Tiffany Yiu | For Educational Purposes Only"})})},h=c(9),O=c.n(h),m=c(11),p="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyMGZjMzQxMjY2N2YxMWU5NTNhMjVjZDczNWM2NzMwMyIsInN1YiI6IjYxMWJlNTcwY2NhN2RlMDA1YjI5ZDU2NSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QWMj-RUVcKiyT8lUXEMn8GjWGFN3GCc4Zk0mtwz121Q";var g=function(){return Object(j.jsx)("nav",{className:"nav-sort",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(s.c,{to:"/sort/popular",children:"Popular"})}),Object(j.jsx)("li",{children:Object(j.jsx)(s.c,{to:"/sort/top-rated",children:"Top Rated"})}),Object(j.jsx)("li",{children:Object(j.jsx)(s.c,{to:"/sort/now-playing",children:"Now Playing"})}),Object(j.jsx)("li",{children:Object(j.jsx)(s.c,{to:"/sort/upcoming",children:"Upcoming"})})]})})},x=c.p+"static/media/no-movie-poster.dc594cc6.jpg",f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAXCAYAAAAV1F8QAAAACXBIWXMAAAsSAAALEgHS3X78AAABQ0lEQVRIia1WAW3EMAz0pAcQCIHwEAphEAZhEAphEALhIRTCQxiEDIGnTPbr3nUS57WTrLbp2Re7dv7fmJk6yLL83SMYjPlNCCwzc2Hmys+4M/OH4ZKs3Q23SoyMXHS6OgIWBzMnsWPCrRLzSSiDSLvuQro6u76JKTTbxt3EF2NlFCreLowVPqN0uFidgkK6uHcc1W4msxF3h83/CSVw3ibOSRyr3I+4G8SlS7B1FZWIdrgP42IccsDxa2FTP48nU/tjUo5VSzp/OHiK9xcCZtMo2iyPoUWyDmDkQ1uR3qCf5kh7H4cwKmQzISez01mHJewNozULd212AszEssmktwlXyJZjJvZyRtqWeJB+/vc3Gon1MlvuulWxAs9Lc7Qihg0zKiutCHliirYWGu6okCcWFmk2+hfkIRHRIS+28E8FEf0CAjuFotgUFGUAAAAASUVORK5CYII=",A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAAACXBIWXMAAAsSAAALEgHS3X78AAABgklEQVRIibVVvXHCMBh9cPQwQgr1cRE3cRGYADYI2YBswAgewWxgb+AUqtSQOr5LskEyAbnnfAIhQLZy4TWGT9+9p+9Xg91uB6LJ0hsAawALAGMc8AogV9oUjo3+SwArALeO+RtASR6lzQcNrUCTpQmA2iP28SLiEJKHgC+Fpkqb7eDt/o4333aQW1TynffwpUgykrT0Ie9LbEHO9dAJ+xpYDCNu/xeMh1ckbzH6B45PAIV0ocUUANt4wi4qI4vnYsNZUNp8+QdNlk4oNJKe/ovARmmz5IA2WVp4HJUIl3bQ6o7B8cEe5/xMAjPUzoEt8iry9oWkJQ90Ie15K8CRBvAUIVDKtyu18/2yw29hmMvHHgIzAFxm73LBge/QZGlLfCQgB32KPlPa1JYkhHODtpQVHYJdL1WHX3USAQ49XHu73kV0Fx1BOmQaiGQsjxDrkJyJhP8Tnp+NICKSZ6VNfpHgQg326IiEtqNnNFqAuCDC33wST3aQj2CKXDjpInqRA8APNCqRU3ikqo4AAAAASUVORK5CYII=",N=c.p+"static/media/thumbup.2d0dd251.svg",S=c.p+"static/media/thumbdown.6c6922b4.svg";var I=function(e){var t=e.movieObj,c=Object(n.useState)(!1),a=Object(l.a)(c,2),i=(a[0],a[1]);function o(){var e=localStorage.getItem("favMovies"),c=e?JSON.parse(e):[];if(c.length&&null!=c.find((function(e){return e.title==t.title}))){var n=c.findIndex((function(e){return e.id==t.id}));n>-1&&(console.log("found"),c.splice(n,1),localStorage.setItem("favMovies",JSON.stringify(c)))}else c.push(t),localStorage.setItem("favMovies",JSON.stringify(c));i(JSON.parse(localStorage.getItem("favMovies"))),console.log(JSON.parse(localStorage.getItem("favMovies")))}return Object(j.jsxs)("div",{className:"movie-card",children:[Object(j.jsx)("div",{className:"movie-poster",children:null===t.poster_path?Object(j.jsx)("img",{src:x,alt:"No poster"}):Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(t.poster_path),alt:t.title})}),Object(j.jsxs)("div",{className:"movie-info",children:[Object(j.jsx)("h3",{children:t.title}),Object(j.jsx)("p",{children:t.release_date}),Object(j.jsxs)("div",{className:"movie-rating",children:[Object(j.jsx)("img",{src:t.vote_average>5?N:S,alt:"rate Icon",id:"movie-rating-icon"}),Object(j.jsxs)("p",{children:[10*t.vote_average,"%"]})]}),Object(j.jsx)("p",{className:"overview",children:t.overview}),Object(j.jsx)(s.b,{to:"/movie/".concat(t.id),children:"More Info"}),Object(j.jsx)("div",{children:function(){var e=JSON.parse(localStorage.getItem("favMovies"));return null!=(null===e||void 0===e?void 0:e.find((function(e){return e.title==t.title})))?Object(j.jsx)("div",{className:"remove-favorite",onClick:o,children:Object(j.jsx)("img",{src:A,alt:"Unfavorite icon"})}):Object(j.jsx)("div",{className:"add-favorite",onClick:o,children:Object(j.jsx)("img",{src:f,alt:"Favorite icon"})})}()})]})]})};var w=function(e){var t=e.movieData;return Object(j.jsx)("div",{className:"movies-container",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(j.jsx)(I,{movieObj:e},t)}))})};var M=function(e){var t=e.movieObj,c=e.movieBannerLength,a=Object(n.useState)(null),i=Object(l.a)(a,2),o=(i[0],i[1]);Object(n.useEffect)((function(){o(t)}),[t]);var s=Math.floor(Math.random()*c),r=t&&t[s];return Object(j.jsxs)("div",{className:"banner-container",children:[Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(r&&r.backdrop_path),alt:"placeholder"}),Object(j.jsxs)("div",{className:"banner-info-container",children:[Object(j.jsx)("h2",{className:"banner-title",children:r&&r.title}),Object(j.jsx)("p",{className:"banner-overview",children:r&&r.overview}),Object(j.jsx)("a",{href:"/movie/".concat(r&&r.id),id:"banner-watch-now-btn",children:"Watch Now"})]})]})};var C=function(e){var t=e.sort,c=Object(n.useState)(null),a=Object(l.a)(c,2),i=a[0],o=a[1],s=Object(n.useState)(null),r=Object(l.a)(s,2),d=r[0],b=r[1],u=Object(n.useState)(null),v=Object(l.a)(u,2),h=v[0],x=v[1],f=Object(n.useState)(null),A=Object(l.a)(f,2),N=A[0],S=A[1],I=Object(n.useState)(null),C=Object(l.a)(I,2),k=C[0],y=C[1],J=Object(n.useState)(1),U=Object(l.a)(J,2),Q=U[0],E=U[1],W=Object(n.useState)(null),L=Object(l.a)(W,2),B=L[0],T=L[1],z=Object(n.useState)(null),D=Object(l.a)(z,2),H=D[0],R=D[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(O.a.mark((function e(){var c,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?&language=en-US&page=").concat(Q),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+p}});case 2:return c=e.sent,e.next=5,c.json();case 5:n=(n=e.sent).results.splice(0,12),1===Q?o(n):2===Q?b(n):3===Q?x(n):4===Q?S(n):5===Q&&y(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,Q]);var V=function(){var e=Object(m.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/popular?api_key=".concat("20fc3412667f11e953a25cd735c67303","&language=en-US&page=1"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+p}});case 2:return t=e.sent,e.next=5,t.json();case 5:c=(c=e.sent).results.splice(0,10),T(c),R(c.length);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function F(){E(Q+1)}return Object(n.useEffect)(Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:case"end":return e.stop()}}),e)}))),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(M,{movieObj:B,movieBannerLength:H}),Object(j.jsx)(g,{}),null!==i&&Object(j.jsx)(w,{movieData:i}),null!==i&&null===d&&Object(j.jsx)("div",{className:"load-more-btn-container",children:Object(j.jsx)("button",{onClick:F,className:"load-more-btn",children:"Load More"})}),null!==d&&Object(j.jsx)(w,{movieData:d}),null!==d&&null===h&&Object(j.jsx)("div",{className:"load-more-btn-container",children:Object(j.jsx)("button",{onClick:F,className:"load-more-btn",children:"Load More"})}),null!==h&&Object(j.jsx)(w,{movieData:h}),null!==h&&null===N&&Object(j.jsx)("div",{className:"load-more-btn-container",children:Object(j.jsx)("button",{onClick:F,className:"load-more-btn",children:"Load More"})}),null!==N&&Object(j.jsx)(w,{movieData:N}),null!==N&&null===k&&Object(j.jsx)("div",{className:"load-more-btn-container",children:Object(j.jsx)("button",{onClick:F,className:"load-more-btn",children:"Load More"})}),null!==k&&Object(j.jsx)(w,{movieData:k})]})},k=c.p+"static/media/tmdb-logo.bf7f470b.svg";var y=function(){return Object(j.jsxs)("section",{className:"about-page",children:[Object(j.jsxs)("h2",{children:["About ",Object(j.jsx)("span",{className:"about-page-logo",children:"Movie Club"})]}),Object(j.jsx)("p",{children:"Movie Club is an online movie database that lets users browse movies based on popularity, rating and release date. The platform also allows registered users to keep track of movies they love by adding films to their favorites list."}),Object(j.jsx)("p",{children:"This product uses the TMDb API but is not endorsed or certified by TMDb."}),Object(j.jsx)("img",{src:k,alt:"tmdb logo"})]})};var J=function(){var e=JSON.parse(localStorage.getItem("favMovies"));return Object(j.jsxs)("section",{className:"favorites",children:[Object(j.jsx)("h2",{children:"Favorite Movies"}),0!==(null===e||void 0===e?void 0:e.length)?Object(j.jsx)(w,{movieData:e}):Object(j.jsxs)("p",{className:"no-favorites",children:["You have no favorites. Please go back to the ",Object(j.jsx)(s.c,{to:"/sort/popular",children:"home page "}),"to add some movies."]})]})};c.p,c.p;var U=function(e){var t=e.movieObj,c=Object(n.useState)(!1),a=Object(l.a)(c,2),i=(a[0],a[1]);function o(){var e=localStorage.getItem("favMovies"),c=e?JSON.parse(e):[];if(c.length&&null!=c.find((function(e){return e.title==t.title}))){var n=c.findIndex((function(e){return e.id==t.id}));n>-1&&(console.log("found"),c.splice(n,1),localStorage.setItem("favMovies",JSON.stringify(c)))}else c.push(t),localStorage.setItem("favMovies",JSON.stringify(c));i(JSON.parse(localStorage.getItem("favMovies"))),console.log(JSON.parse(localStorage.getItem("favMovies")))}return Object(j.jsx)("div",{className:"single-movie",style:{backgroundImage:t.backdrop_path&&"url(https://image.tmdb.org/t/p/original/".concat(t.backdrop_path,")")},children:Object(j.jsx)("div",{className:"single-movie-container",children:Object(j.jsxs)("div",{className:"single-movie-content",children:[null===t.poster_path?Object(j.jsx)("img",{src:x,alt:"no poster image",id:"single-movie-poster"}):Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(t.poster_path),alt:t.title,id:"single-movie-poster"}),Object(j.jsxs)("div",{className:"single-movie-info",children:[Object(j.jsx)("h2",{id:"single-movie-title",children:t.title}),Object(j.jsxs)("div",{className:"single-movie-info-header",children:[Object(j.jsx)("p",{id:"single-movie-release-date",children:t.release_date}),Object(j.jsx)("div",{children:function(){var e=JSON.parse(localStorage.getItem("favMovies"));return null!=(null===e||void 0===e?void 0:e.find((function(e){return e.title==t.title})))?Object(j.jsx)("div",{className:"remove-favorite",onClick:o,children:Object(j.jsx)("img",{src:A,alt:"Unfavorite icon"})}):Object(j.jsx)("div",{className:"add-favorite",onClick:o,children:Object(j.jsx)("img",{src:f,alt:"Favorite icon"})})}()})]}),Object(j.jsxs)("div",{className:"single-movie-rating",children:[Object(j.jsx)("img",{src:t.vote_average>5?N:S,alt:"rate Icon",id:"single-movie-rate-icon"}),Object(j.jsxs)("span",{children:[10*t.vote_average,"%"]})]}),Object(j.jsx)("p",{id:"single-movie-overview",children:t.overview}),Object(j.jsx)("div",{className:"single-movie-watch-now-btn-container",children:Object(j.jsx)("a",{href:"/movie/".concat(t.id),id:"single-movie-watch-now-btn",children:"Watch Now"})})]})]})})})};var Q=function(){var e=Object(r.g)().id,t=Object(n.useState)(null),c=Object(l.a)(t,2),a=c[0],i=c[1];return console.log(e),Object(n.useEffect)((function(){(function(){var t=Object(m.a)(O.a.mark((function t(){var c,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(e,"?&language=en-US&page=1"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+p}});case 2:return c=t.sent,t.next=5,c.json();case 5:n=t.sent,i(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(j.jsx)("div",{children:null!==a&&Object(j.jsx)(U,{movieObj:a})})};function E(){var e=Object(r.f)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var W=function(){return Object(j.jsx)("div",{className:"back-to-top-btn",onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},id:"scroll-to-top-btn",children:Object(j.jsx)("div",{className:"back-to-top-content",children:Object(j.jsx)("i",{className:"arrow-up"})})})};var L=function(){return Object(j.jsxs)(s.a,{basename:"movie-database",children:[Object(j.jsx)(E,{}),Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(u,{}),Object(j.jsx)("main",{children:Object(j.jsxs)(r.c,{children:[Object(j.jsx)(r.a,{path:"/",exact:!0,children:Object(j.jsx)(C,{sort:"popular"})}),Object(j.jsx)(r.a,{path:"/sort/popular",children:Object(j.jsx)(C,{sort:"popular"})}),Object(j.jsx)(r.a,{path:"/sort/top-rated",children:Object(j.jsx)(C,{sort:"top_rated"})}),Object(j.jsx)(r.a,{path:"/sort/now-playing",children:Object(j.jsx)(C,{sort:"now_playing"})}),Object(j.jsx)(r.a,{path:"/sort/upcoming",children:Object(j.jsx)(C,{sort:"upcoming"})}),Object(j.jsx)(r.a,{path:"/about",children:Object(j.jsx)(y,{})}),Object(j.jsx)(r.a,{path:"/favorites",children:Object(j.jsx)(J,{})}),Object(j.jsx)(r.a,{path:"/movie/:id",children:Object(j.jsx)(Q,{})})]})}),Object(j.jsx)(W,{}),Object(j.jsx)(v,{})]})]})};c(31);o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.bcc54287.chunk.js.map